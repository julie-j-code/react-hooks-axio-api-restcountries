{"version":3,"sources":["components/Logo.js","components/Navigation.js","pages/About.js","components/Card.js","components/Countries.js","pages/Home.js","pages/NotFound.js","App.js","index.js"],"names":["Logo","className","src","alt","Navigation","exact","to","activeClassName","About","Card","props","x","country","flag","name","capital","population","toString","replace","Countries","useState","data","setData","sortedData","setSortedData","playOnce","setPlayOnce","rangeValue","setRangeValue","selectedRadio","setSelectedRadio","useEffect","axios","get","then","res","sortedArray","Object","keys","map","i","sort","a","b","length","sortedCountry","type","min","max","value","onChange","e","target","radio","id","checked","htmlFor","onClick","filter","region","includes","Home","NotFound","App","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8ae6f534.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Logo = () => {\r\n    return (\r\n        <div className=\"logo\">\r\n            <img src=\"./img/logo.png\" alt=\"logo\"/>\r\n            \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Logo;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Navigation = () => {\r\n    return (\r\n        <div className=\"navigation\">\r\n            <NavLink exact to=\"/\" activeClassName=\"nav-active\">Accueil</NavLink>\r\n            <NavLink exact to=\"/about\" activeClassName=\"nav-active\">A propos</NavLink>\r\n\r\n            \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Navigation;","import React from 'react';\r\nimport Logo from '../components/Logo';\r\nimport Navigation from '../components/Navigation';\r\n\r\nconst About = () => {\r\n    return (\r\n        <div>\r\n            <Logo />\r\n            <Navigation />\r\n            <h1>A propos</h1>\r\n            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate ex consequatur rerum eaque sint tenetur pariatur vero ipsa dignissimos, temporibus recusandae, provident accusantium corrupti repudiandae nobis. Praesentium ipsam, voluptatum quisquam fugiat architecto maiores qui quis eaque in accusamus labore commodi. Alias illo tenetur fugit magnam labore, nisi, officiis doloribus vel similique velit dolorem dolor voluptate assumenda impedit unde exercitationem maxime!</p>\r\n            <br /><p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Deserunt unde asperiores perspiciatis nobis, sint est ad commodi quae inventore neque iusto earum exercitationem, blanditiis ullam enim sed quos vitae non aliquam voluptates ab debitis magnam quis! Ducimus animi eius nihil?</p>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default About;","import React from 'react';\r\n\r\nconst Card = (props) => {\r\n    // pour se créer en option un raccourcis qui nous évite le props.country.xxx\r\n    // on va destructurer ! putain de merde...\r\n    const { country } = props;\r\n    const numberFormat = (x) => {\r\n        return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\r\n      };\r\n\r\n    return (\r\n        <div>\r\n            <li className=\"card\">\r\n                <img src={country.flag} alt=\"flag\" />\r\n                <div className=\"data-container\">\r\n                    <ul>\r\n                        <li>{country.name}</li>\r\n                        <li>{country.capital}</li>\r\n                        <li>Pop. {numberFormat(country.population)}</li>\r\n                    </ul>\r\n                </div>\r\n            </li>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Card;","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport Card from './Card';\r\n\r\nconst Countries = () => {\r\n\r\n  const [data, setData] = useState([]);\r\n  const [sortedData, setSortedData] = useState([]);\r\n  const [playOnce, setPlayOnce] = useState(true);\r\n  const [rangeValue, setRangeValue] = useState(40);\r\n  const [selectedRadio, setSelectedRadio] = useState(\"\");\r\n  const radios = [\"Africa\", \"America\", \"Asia\", \"Europe\", \"Oceania\"];\r\n  useEffect(() => {\r\n    if (playOnce) {\r\n\r\n      axios\r\n        .get(\r\n          \"https://restcountries.eu/rest/v2/all?fields=name;population;region;capital;flag\"\r\n        )\r\n        .then((res) => {\r\n          setData(res.data)\r\n          setPlayOnce(false);\r\n        }\r\n        );\r\n    }\r\n\r\n\r\n    const sortedCountry = () => {\r\n      const countryObj = Object.keys(data).map((i) => data[i]);\r\n      const sortedArray = countryObj.sort((a, b) => {\r\n        return b.population - a.population;\r\n      });\r\n      // sortedArray.lenght=30;\r\n      sortedArray.length = rangeValue;\r\n      setSortedData(sortedArray);\r\n\r\n    };\r\n    sortedCountry();\r\n\r\n    // pour qu'à chaque fois qu'une des valeurs évolue, useEffect soit relancé (évoque le cycle de vie des class components !)\r\n  }, [data, playOnce, rangeValue]);\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"countries\">\r\n      <div className=\"sort-container\">\r\n\r\n        {/* c'est là qu'on commence à apprécier l'utilisation des hooks */}\r\n        <input type=\"range\" min=\"1\" max=\"250\" value={rangeValue}\r\n          onChange={(e) => setRangeValue(e.target.value)} />\r\n\r\n        <ul>\r\n          {radios.map((radio) => {\r\n            return (\r\n              <li key={radio}>\r\n                <input type=\"radio\" value={radio} id={radio} checked={radio === selectedRadio}\r\n                  onChange={(e) => setSelectedRadio(e.target.value)}\r\n                />\r\n                <label htmlFor={radio}>{radio}</label>\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      </div>\r\n      {/* pour réinitialiser la recherche */}\r\n      <div className=\"cancel\">\r\n        {selectedRadio && (\r\n          <h5 onClick={() => setSelectedRadio(\"\")}>Retirer les filtres de sélection</h5>\r\n        )}\r\n      </div>\r\n\r\n      <ul className=\"countries-list\">\r\n        {\r\n          sortedData\r\n            // avant de mapper, pour utiliser selectedRadio, classiquement, on filtre\r\n            .filter((country) => country.region.includes(selectedRadio))\r\n            .map((country) =>\r\n              // on crée un props en envoyant les données de country à la card\r\n              // sans oublier de passer une clée unique à chaque élément que l'on map\r\n              <Card country={country} key={country.name} />\r\n            )}\r\n      </ul>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Countries;","// on n'a plus besoin de faire un import il est maintenant sous-entendu\r\nimport React from 'react';\r\nimport Countries from '../components/Countries';\r\nimport Logo from \"../components/Logo\";\r\nimport Navigation from \"../components/Navigation\";\r\n\r\n\r\nconst Home = ()=>{\r\n\r\n    return (\r\n        <div className=\"absolute-center\">\r\n            <Logo/>\r\n            <Navigation />\r\n            <h1>Page d'accueil</h1>\r\n            <Countries/>\r\n        </div>\r\n    \r\n    );\r\n    \r\n\r\n\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\nimport Navigation from '../components/Navigation';\r\n\r\nconst NotFound = () => {\r\n    return (\r\n        <div>\r\n            <Navigation />\r\n            <h1>Page introuvable</h1>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NotFound;","import React from 'react';\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport About from './pages/About';\nimport Home from './pages/Home';\nimport NotFound from './pages/NotFound';\n\n\nconst App = () => {\n  return (\n    <div>\n      <BrowserRouter>\n      <Switch>\n        <Route exact path=\"/\" component={Home}/>\n        <Route exact path=\"/about\" component={About}/>\n        <Route exact path=\"/react-hooks-axio-api-restcountries/\" component={Home}/>\n        <Route component={NotFound}/>\n      </Switch>\n      </BrowserRouter>\n      \n    </div>\n  );\n};\n\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./styles/index.scss\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);"],"sourceRoot":""}